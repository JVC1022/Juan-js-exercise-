<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Company Overview (JSON)</title>
</head>
<body>

    <h1>Company Overview (JSON)</h1>
    <a href="../index.html">Home</a>

    <h2>Dataset Information</h2>
    <p>
        This exercise uses a simulated dataset for company information.
    </p>

    <h2>Part 1</h2>
    <p>
        <ol type="A">
            <li>Define a <code>lookupCompany</code> function that:
                <ul>
                    <li>Reads the stock symbol from the input element.</li>
                    <li>Fetches company data from the simulated dataset.</li>
                    <li>Displays company name, description, and website.</li>
                </ul>
            </li>
            <li>Call the function on page load.</li>
            <li>Also call it when the "Lookup" button is clicked.</li>
        </ol>
    </p>

    <h2>Part 2</h2>
    <p>
        <ol type="A">
            <li>The <code>lookupCompany</code> function should also:
                <ul>
                    <li>Update the DOM with company name, description, and link.</li>
                </ul>
            </li>
        </ol>
    </p>

    <hr>
    <h2>Display</h2>

    <label>Stock Symbol:</label>
    <input id="input-symbol" type="text" placeholder="NFLX" value="NFLX">
    <button id="lookup">Lookup</button>

    <div id="display-company-info">
        <p>Name: <span id="display-name">TODO</span></p>
        <p>Description: <span id="display-description">TODO</span></p>
        <p>Website: <a id="display-link" href="#">TODO</a></p>
    </div>

    <script type="text/javascript">
        // Simulated dataset
        const companyData = {
            "NFLX": {
                "Name": "Netflix, Inc.",
                "Description": "Netflix is a streaming service that offers a wide variety of award-winning TV shows, movies, anime, documentaries, and more.",
                "Website": "https://www.netflix.com"
            },
            "AAPL": {
                "Name": "Apple Inc.",
                "Description": "Apple designs, manufactures, and markets smartphones, personal computers, tablets, wearables, and accessories worldwide.",
                "Website": "https://www.apple.com"
            },
            "GOOGL": {
                "Name": "Alphabet Inc.",
                "Description": "Alphabet is the parent company of Google, specializing in internet-related services and products.",
                "Website": "https://www.abc.xyz"
            }
        };

        const inputSymbol = document.getElementById("input-symbol");
        const lookupButton = document.getElementById("lookup");

        const nameSpan = document.getElementById("display-name");
        const descSpan = document.getElementById("display-description");
        const linkTag = document.getElementById("display-link");

        function lookupCompany() {
            const symbol = inputSymbol.value.trim().toUpperCase();
            if (!symbol) {
                alert("Please enter a stock symbol.");
                return;
            }

            const data = companyData[symbol];

            // Handle missing or invalid data
            if (!data) {
                alert("No company data found. Please check the symbol.");
                nameSpan.textContent = "N/A";
                descSpan.textContent = "N/A";
                linkTag.href = "#";
                linkTag.textContent = "N/A";
                return;
            }

            // Update DOM
            nameSpan.textContent = data.Name || "N/A";
            descSpan.textContent = data.Description || "N/A";
            linkTag.href = data.Website || "#";
            linkTag.textContent = data.Website || "N/A";
        }

        // Run once when the page loads
        window.addEventListener("DOMContentLoaded", lookupCompany);

        // Also run when the button is clicked
        lookupButton.addEventListener("click", lookupCompany);
    </script>
</body>
</html>
